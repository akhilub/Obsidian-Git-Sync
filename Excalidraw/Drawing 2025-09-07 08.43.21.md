---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš == You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
Design YouTube ^CTc75Q2Y

Understand the Problem ^mhcbKb3T

ðŸ“¹ What is YouTube? ^aDX1dYxt

YouTube is a video-sharing platform that allows users to upload, view, and interact with video content. As of this writing, it is the second most visited website in the world ðŸ¤¯. ^2oyf6J5k

Functional Requirements

- Users can upload, view, search, comment, like, share and subscribe to videos.
- They should also receieve recommendations

Non Functional Requirements

- High Availabilty, Scalabilty, Relability
- Low Latency (especially for streaming)
- Cost Efficiency
- Robust data Durability (Videos should not be lost)

Core Entities:
    
- User
- Video
- Comment
- Subscription


High Level Components

- Clients : Mobile, Web, Smart TV
- Load Balancers : To distribute traffic to API Servers
- API Servers : Handles all requests except video streaming (e.g. metadata, recommendations, user management)
- Content Delivery Network (CDN) : Crucial, for delivering video content globally with low latency
- Storage : Blob Storage for original video files and transcoded versions
- Metadata DB: Standard and replicated for video metadatd (title, descriptions,user data, comments)
- Metadata Cache : (Improves performance for frequently access metadata
- Transcoding Service : Converts uploaded videos into multiple formats and resolutions.
- Recommendation Engine: Suggest personalized content
- Search Index : For efficient video discovery

Data/Key Flows:
    
Video Upload :

    User Uploads Videos --> Load Balancer --> API server generates presigned URL -->User Uploads directly to 
    original storage --> Transcoding Service processess video into multiple formats --> Store transcoded videos-->
    Update Metadata DB

Video Streaming :
    
    User requests video --> Load Balancer --> API server retrieves metadata (including CDN URL) from cache/DB/-->
    CDN streams video to user.


Scalability & Optimization:
    
    - Horizontal Scaling for API servers
    - Database sharding and replication for metadata
    - Video Splitting (GOP alignment) for efficient streaming and error recovery
    - Adaptive streaming (DASH/ HLS) to adjust quality based on network conditions.
    - Prioritize transcoding for viral content or large creators
    - Distributed upload centers to improve upload speed globally. ^gin8z8oL

%%
## Drawing
```compressed-json
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=
```
%%